#include <iostream>
#include <vector>
#include <algorithm>
#include <random>
#include <ctime>

using namespace std;

class bingoCard {
public:
    vector<vector<int>> num;       
    vector<vector<bool>> marcado;  
    int linhas = 5;
    int colunas = 5;

    bingoCard() {
        num.resize(linhas, vector<int>(colunas));
        marcado.resize(linhas, vector<bool>(colunas, false));
    }

  
    void gerarCartela() {
        default_random_engine aaa(time(0));

        int inicio = 1;
        for (int col = 0; col < colunas; col++) {
            vector<int> valores;
            for (int i = inicio; i < inicio + 20; i++)
                valores.push_back(i);

            shuffle(valores.begin(), valores.end(), aaa);

            for (int lin = 0; lin < linhas; lin++)
                num[lin][col] = valores[lin];

            inicio += 20;
        }

        // espaÃ§o vazio
        num[2][2] = 0;
        marcado[2][2] = true;
    }

    void marcarNumero(int n) {
        for (int i = 0; i < linhas; i++)
            for (int j = 0; j < colunas; j++)
                if (num[i][j] == n)
                    marcado[i][j] = true;
    }

    bool temBingo() {
        // ve se os numeros todos tao marcados
        for (int i = 0; i < linhas; i++) {
            for (int j = 0; j < colunas; j++) {
                if (i == 2 && j == 2) continue; // Ignora o centro livre
                if (!marcado[i][j]) return false; 
            }
        }
        return true;  // se ta tudo marcado manda um true
    }

    // Mostrar cartela (marcados ficam em vermelho)
    void mostrar() {
        for (int i = 0; i < linhas; i++) {
            for (int j = 0; j < colunas; j++) {
                if (marcado[i][j])
                    cout << "\033[31m" << num[i][j] << "\033[0m\t"; // vermelho
                else
                    cout << num[i][j] << "\t";
            }
            cout << endl;
        }
    }
};

int main() {
    bingoCard cartela;
    cartela.gerarCartela();

    vector<int> numeros(100);
    for (int i = 0; i < 100; i++)
        numeros[i] = i + 1;

    default_random_engine aaa(time(NULL));
    shuffle(numeros.begin(), numeros.end(), aaa);

    cout << "CARTELA GERADA:\n";
    cout << "B       I       N       G       O\n";
    cartela.mostrar();

    int index = 0;

    do {
        cout << "\ntoca no enter pra sorteares um numero...";
        cin.get();

        int sorteado = numeros[index++];
        cout << "\nNumero que saiu: " << sorteado << "\n";

        cartela.marcarNumero(sorteado);

        cout << "\n--- CARTELA ATUALIZADA ---\n";
          cout << "B       I       N       G       O\n";
        cartela.mostrar();

        if (cartela.temBingo()) {
            cout << "\n\033[32mBINGO! Ganhaste\033[0m\n";
            break;
        }
    } while (index < 100);

    return 0;
}
